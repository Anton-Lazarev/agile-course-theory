# Лабораторная работа #1: Test-Driven Development

## Цели

  1. Освоить практику разработки TDD (разработка через тестирование).
  1. Ознакомиться с практикой непрерывной интеграции.
  1. Освоить "гибкую" практику ОО дизайна, рассмотренную в лекциях "TDD",
     "Чистый код", "Рефакторинг".

## Задачи

  1. Доустановить инструменты разработки в виде IDE (рекомендуется IntelliJIdea
     Community Edition) и системы сборки Gradle.
  1. Разработать Java-компонент с основной логикой приложения согласно практике
     TDD. Классы должны быть "грамотно" спроектированы, должны выполняться
     рекомендации из лекции "Чистый код".
  1. Прислать результаты в виде пулл-реквеста, и добиться прохождения всех
     проверок на системе непрерывной интеграции TravisCI.

## Инструкции

  1. В этот раз просьба следовать процессу [GitHub Flow](http://scottchacon.com/2011/08/31/github-flow.html).
     Это подразумевает, что разработку вы ведете в отдельной ветке Git, а не в
     `master`. Поэтому просьба создать ветку, дав ей содержательное имя, например
     `lab1-tdd-triangle`. Кроме того, если к вашем коду будут поступать замечания,
     то просьба не создавать новые ветки и пулл-реквесты, и использовать те же
     самые. Так, при `git push` коммитов в ветку `lab1-tdd-triangle` на вашем форке
     обновится и пулл-реквест.
  1. Итак, первым делом полезно обновить коды из центрального репозитория
     ([upstream](https://groups.google.com/d/msg/devtools-course/V8rtlLrCXc4/k7vx6BxnqR4J)).
     Когда вы скачаете коды и сделаете их `merge` в свой `master`, можно будет
     создавать ветку `lab1-tdd-triangle` и продолжать в ней работу.
  1. Затем следует установить систему сборки
     [Gradle](http://www.gradle.org/downloads), и добавить путь до бинарника в
     `PATH`. Теперь можно попробовать собрать уже имеющиеся проекты (например
     `tddkata`, который был продемонстрирован на лекции), и прогнать тесты. Для
     этого перейдите в консоли в папку `code` и выполните команду `gradle
     check`. Вы должны увидеть как строятся и прогоняются тесты. **Крайне полезно
     знать про этот режим**, поскольку Travis запускает тесты аналогичным образом.
     Поэтому если ваш пулл-реквест будет
     [красным](https://travis-ci.org/UNN-VMK-Software/agile-development-course/pull_requests),
     то вы будете в состоянии воспроизвести проблему у себя локально.
  1. Теперь можно установить IDE и попробовать импортировать какой-нибудь
     проект, например тот же `tddkata`. Нужно запустить все тесты и убедиться,
     что они проходят.
     - Если вы планируете использовать IntelliJ IDEA (рекомендуется), то она
       автоматически "понимает" проекты Gradle.
     - В случае, если вы планируете использовать Eclipse, прежде чем
       импортировать, вам предстоит сгенерировать Eclipse-проект. Для этого
       снова перейдите в консоли в папку `code` и выполните команду
       `gradle eclipse`. В результате в каждой подпапке появится проект Eclipse,
       который теперь можно импортировать.
  1. Далее вы можете начинать работу над своим проектом. Для простоты я бы
     предложил скопировать проект `tddkata`, и переиспользовать его структуру,
     переименовав все под свою лабораторную. Конечно, все Java-файлы придется
     удалить и написать заново. Скопированный проект можно импортировать в IDE и
     собственно приступить к разработке своего компонента. **Внимание:** просьба
     все свои лабораторные выполнять в той же директории со своим именем,
     развивая и наращивая проект. Папки с примерами с суффиксами `lab1`
     создаются лишь для того, чтобы вы видели разницу между лабораторными. Вы же
     должны работать в одной папке.
  1. Собственно далее вы должны разработать свой класс, решающий поставленную
     задачу, согласно практике TDD.
     - **Настоятельно рекомендуется** соблюдать все рекомендации практики:
       создание теста до кода, маленькие итерации (думаете больше 5 минут -
       пишите вспомогательный класс), периодический рефакторинг кода и тестов.
     - **На каждый метод у вас должно в среднем не менее 3 тестов**, пара smoke
       тестов (просто на корректную работу), затем граничные значения и
       неадекватные/недопустимые аргументы.
     - Кроме того, огромная просьба следить за чистотой кода, понятностью имен
       и следованию [Java-соглашениям программирования](http://www.oracle.com/technetwork/java/codeconv-138413.html). К сожалению на лекции мы рассматривали C# соглашения, но думаю все быстро
       сориентируются.
  1. Когда все будет готово, нужно будет прислать пулл-реквест и убедиться,
     что он [зеленый](https://travis-ci.org/UNN-VMK-Software/agile-development-course/pull_requests).
     Если это не так, просьба самостоятельно разрешить все проблемы. Код будет
     рецензироваться только если пулл-реквест проходит все тесты.
  1. После этого будет фаза code review. Просьба своевременно устранять
     полученные замечания, и желательно это делать в той же ветке и в том же
     пулл-реквесте. Когда все замечания будут устранены (чаще всего они на
     чистоту кода), лабораторная будет зачтена. **Если тестов будет мало, будем
     их писать, пока их не станет по ~3 штуки на каждый публичный метод.**
     Поэтому лучше сразу пишите по TDD.

# Типичные ошибки

  1. Коммиты файлов с бинарными сборками и другие временные файлы от IDE.
