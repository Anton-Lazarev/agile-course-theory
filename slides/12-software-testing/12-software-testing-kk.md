# Agile Software Testing / QA

Кирилл Корняков,\
Динар Ахматнуров\
Октябрь 2014

<!-- TODO
  - Automated Testing
    - No dedicated testers
    - Unit-testing (evolving into TDD)
    - Infrastructure, System, Acceptance Testing
  - Continuous Integration
    - Code Review (by peers before commit)
    - Automated runs and deploys
-->

# Содержание

  - Понятие Quality Assurance
  - Традиционный подход к QA
  - Agile подход к тестированию
  - Пример Google
  - Заключение

# Quality Assurance

> - Функциональные требования
    - Наличие возможностей
    - Корректность их работы
  - Нефункциональные требования
    - Производительность
    - Защищенность (security)
    - Надежность / отказоустойчивость (reliability)
    - ...

# Quality Assurance

## "Внутреннее" качество системы

  - Код
    - Стиль, понятность, чистота, и т.д.
  - Объектно-ориентированный дизайн
    - Возможность переиспользования, гибкость, отсутствие дублирований, и т.д.
  - Архитектура
    - Модульность, расширяемость, простота

На нижнем уровне можно делать большое количество проверок автоматически.

На верхних это срабатывает только в частных вопросах.

# Виды тестов

  - Модульные
    - Индивидуальные функции, методы, классы в изоляции
  - Интеграционные, инфраструктурные
    - Сочетания нескольких классов, использование внешних компонент
  - Системные, функциональные, приемочные тесты
    - Пользовательские сценарии, end-to-end тесты

# Традиционный подход к QA

  - Тестирование производится после разработки
    - В лучшем случае V-Model

![](./pix/SoftwareDevelopmentV-Model.jpg)

  - Независимые отделы разработки и тестирования (часто разнесены)
    - Поиски оптимального соотношения числа тестировщиков к разработчикам (1:N)
  - Преобладает ручное тестирование (ТЗ, тест-планы и т.д.)
    - Автоматические тесты присутствуют, но создаются не разработчиками

# Тест Джоэла Спольски: 12 шагов к лучшему коду

## Вопрос 10. У вас есть тестеры?

> Если в вашей команде нет тестеров, по крайней мере одного на 2-3х
программистов, вы либо выпускаете продукты, кишащие ошибками, либо теряете
деньги.

> Работа, выполненная программистом, обойдётся вам в 100 $/час, а та же самая
работа, выполненная тестером - 30 $/час.

> Экономия на тестерах - это оскорбительно ложная экономия. Я просто возмущён,
почему большинство людей не замечает этого!

# Недостатки традиционного подхода

> - Высокая стоимость "перетестирования"
  - Медленная петля обратной связи (иногда просто ее отсутствие)
  - Низкий уровень ответственности, культура конфронтации
  - Подобная организация практически неприменима в контексте изменяющихся
    требований.

# Agile vs Traditional QA

![](./pix/agile-vs-traditional.png)

# Гибкое тестирование

  1. Ответственность за качество несут разработчики
  1. Максимальная автоматизация тестирования
  1. Непрерывная интеграция

# Ответственность за качество

Основную нагрузку по обеспечению качества несут разработчики.

Именно у разработчика и именно в момент разработки есть лучшее понимание того,\
что может сломаться и что следует тестировать.

  - Разработчики обеспечивают покрытие своего кода _модульными_ тестами
  - Покрытие тестами происходит _одновременно_ с разработкой
    - Быстрая обратная связь (vs outsourced testing)
    - Фиксация "инвариантов"
    - Подготовка кода к коллективному владению
  - Важен "агрессивный" стиль тестирования своего кода

Примеры: Teleca, Khronos, Google

# Agile Tester

  - Выделенных тестеров либо совсем нет, либо их очень мало
  - Люди, ответственные за QA, в основном программируют (!)
    - Интеграционные и системные тесты
    - Поддержание системы непрерывной интеграции

# Автоматизация тестирования

## Полезные практики

  - Огромное количество автоматических тестов
    - Покрытие близко к 100%
    - Количество "тестового" кода сравнимо с "продуктовым" (иногда 3:1)
    - Высокое качество тестового кода
  - Полный прогон модульных тестов должен занимать несколько минут
    - Интеграционные и системные тесты запускаются не реже одного раза в день
  - Test-Driven Development
  - Перед исправлением ошибки создается тест

# Анализ качества кода

  - Стиль кодирования
    - Чистый код (именование, форматирование)
    - Анализ сложности
  - Статический анализ
    - Максимальный уровень предупреждений компилятора
    - Специальные инструменты
  - Динамический анализ
    - Утечки памяти, гонки данных
    - Анализ производительности

# Практика непрерывной интеграции

  -

# Пример: Google

![](./pix/book-cover.jpg)

# Пример: Google

  - Бывшие сотрудники Microsoft, но совершенно иной подход к тестированию
    - Роли с фокусом на тестирование __должны писать код__!
  - TOTT program
  - "Test Certified" Program

# Google: Summary of Test Certified Levels

![](./pix/google-test-certified-1-2.png)

# Google: Summary of Test Certified Levels

![](./pix/google-test-certified-3-4.png)

# Google: Summary of Test Certified Levels

![](./pix/google-test-certified-5.png)

# Ключевые моменты

  - Гибкий подход к тестированию позволяет развивать систему контролируемо.
  - Написание кода и тестирование должны быть неразрывно связаны.
  - Качество
    - Качество не есть тестирование.
    - За качество продукта отвечает каждый разработчик.
    - Качество это скорее техника предотвращения ошибок, а не их детектирования.

# Контрольные вопросы

  1. Виды тестов
  1. Тестирование ПО определение
  1. Зачем тестировать?
  1. Роли в тестировании

# Спасибо за внимание

Вопросы?
